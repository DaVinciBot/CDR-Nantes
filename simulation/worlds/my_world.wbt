#VRML_SIM R2025a utf8

EXTERNPROTO "https://raw.githubusercontent.com/cyberbotics/webots/R2025a/projects/objects/backgrounds/protos/TexturedBackground.proto"
EXTERNPROTO "https://raw.githubusercontent.com/cyberbotics/webots/R2025a/projects/objects/backgrounds/protos/TexturedBackgroundLight.proto"
EXTERNPROTO "https://raw.githubusercontent.com/cyberbotics/webots/R2025a/projects/objects/floors/protos/RectangleArena.proto"
EXTERNPROTO "https://raw.githubusercontent.com/cyberbotics/webots/R2025a/projects/appearances/protos/Asphalt.proto"

WorldInfo {
}
Viewpoint {
  orientation 0.205559746041147 -0.536303183819216 -0.8186110711643664 4.232696760784144
  position 1.7974101415246528 -3.3389282895227446 3.997792018689156
}
TexturedBackground {
}
TexturedBackgroundLight {
}
RectangleArena {
  floorSize 3 2
  wallHeight 0.07
}
Robot {
  translation 1.504827804011817 -2.1842641642561493 0.02665624298523911
  rotation 0.000984265904691172 -0.001356658926545459 0.9999985953476064 -2.6751207027004154
  children [
    DEF CORPS_DEPLACE Pose {
      translation 0 0 0.22
      children [
        DEF CORPS_SHAPE Shape {
          appearance PBRAppearance {
            baseColor 0 0 0
            roughness 0.5
            metalness 0
          }
          geometry Box {
            size 0.3 0.4 0.375
          }
        }
      ]
    }
    DEF WHEEL_A_WRAPPER Pose {
      rotation 0 0 1 -1.0472
      children [
        DEF WHEEL_A_RADIUS Pose {
          translation 0 0.2 0
          children [
            HingeJoint {
              jointParameters HingeJointParameters {
                position -53.01471861490622
                axis 0 1 0
              }
              device [
                RotationalMotor {
                  name "motor1"
                  maxVelocity 20
                }
                PositionSensor {
                  name "encoder1"
                }
              ]
              endPoint Solid {
                translation 0.0034990133754366857 0.0013527191834031929 0.0005367668511421417
                rotation -0.007181787203856427 -0.9999681543127564 0.003480271957479086 1.1831162532181438
                children [
                  DEF VISUAL_WHEEL_1 Transform {
                    rotation 0 0 1 -1.57
                    scale 0.001 0.001 0.001
                    children [
                      Shape {
                        appearance PBRAppearance {
                          baseColor 0.1 0.1 0.1
                          transparency 1
                          roughness 0.8
                        }
                        geometry Mesh {
                          url [
                            "../protos/meshes/roue.stl"
                          ]
                        }
                      }
                    ]
                  }
                  DEF ROUE_COLLISION Pose {
                    rotation 1 0 0 1.5708
                    children [
                      Shape {
                        appearance PBRAppearance {
                          baseColor 0.1 0.1 0.1
                          transparency 1
                          roughness 0.8
                          metalness 0
                        }
                        geometry Cylinder {
                          height 0.02
                          radius 0.03
                        }
                      }
                    ]
                  }
                ]
                name "wheel_solid_1"
                boundingObject USE ROUE_COLLISION
                physics Physics {
                  mass 0.2
                }
              }
            }
          ]
        }
      ]
    }
    DEF WHEEL_B_WRAPPER Pose {
      rotation 0 0 1 1.0472
      children [
        DEF WHEEL_B_RADIUS Pose {
          translation 0 0.2 0
          children [
            HingeJoint {
              jointParameters HingeJointParameters {
                position 521.768946487222
                axis 0 1 0
              }
              device [
                RotationalMotor {
                  name "motor2"
                  maxVelocity 20
                }
                PositionSensor {
                  name "encoder2"
                }
              ]
              endPoint Solid {
                translation -0.0032326973839032565 -0.00016166613624468427 0.001010869697016972
                rotation -0.00797769658393428 -0.9999600369135958 0.004034963813328383 5.485185799536974
                children [
                  DEF VISUAL_WHEEL_2 Transform {
                    rotation 0 0 1 -1.57
                    scale 0.001 0.001 0.001
                    children [
                      Shape {
                        appearance PBRAppearance {
                          baseColor 0.1 0.1 0.1
                          transparency 1
                          roughness 0.8
                        }
                        geometry Mesh {
                          url [
                            "../protos/meshes/roue.stl"
                          ]
                        }
                      }
                    ]
                  }
                  USE ROUE_COLLISION
                ]
                name "wheel_solid_2"
                boundingObject USE ROUE_COLLISION
                physics Physics {
                  mass 0.2
                }
              }
            }
          ]
        }
      ]
    }
    DEF WHEEL_C_WRAPPER Pose {
      rotation 0 0 1 3.14159
      children [
        DEF WHEEL_C_RADIUS Pose {
          translation 0 0.2 0
          children [
            HingeJoint {
              jointParameters HingeJointParameters {
                position 701.5947793304973
                axis 0 1 0
              }
              device [
                RotationalMotor {
                  name "motor3"
                  maxVelocity 20
                }
                PositionSensor {
                  name "encoder3"
                }
              ]
              endPoint Solid {
                translation 0.004764112233164459 0.0008889910574271258 -8.178330990138254e-06
                rotation 0.004404345662720454 0.99998635008515 -0.002810939818435384 4.2905533636487405
                children [
                  DEF VISUAL_WHEEL_3 Transform {
                    rotation 0 0 1 -1.57
                    scale 0.001 0.001 0.001
                    children [
                      Shape {
                        appearance PBRAppearance {
                          baseColor 0.1 0.1 0.1
                          transparency 1
                          roughness 0.8
                        }
                        geometry Mesh {
                          url [
                            "../protos/meshes/roue.stl"
                          ]
                        }
                      }
                    ]
                  }
                  USE ROUE_COLLISION
                ]
                name "wheel_solid_3"
                boundingObject USE ROUE_COLLISION
                physics Physics {
                  mass 0.2
                }
              }
            }
          ]
        }
      ]
    }
  ]
  name "robot secours"
  boundingObject USE CORPS_DEPLACE
  physics Physics {
    density -1
    mass 10
  }
  controller "<none>"
}
DEF ROBOT_2 Robot {
  translation 0 0 0.0286215
  rotation 0 0 -0.9999999999999963 0
  children [
    DEF CORPS_PRINCIPAL Pose {
      translation 6.60597e-08 3.10842e-07 -0.01
      rotation -0.7745972141184518 0.44721212362085194 0.44721412362140484 -1.823475307179586
      children [
        Transform {
          scale 0.001 0.001 0.001
          children [
            Shape {
              appearance PBRAppearance {
                baseColor 0 0.2 0.8
                roughness 0.5
                metalness 0
              }
              geometry Mesh {
                url [
                  "../protos/meshes/base_link.stl"
                ]
              }
              castShadows FALSE
            }
          ]
        }
      ]
    }
    DEF WHEEL_A_WRAPPER Pose {
      rotation 0 0 1 -1.0472
      children [
        DEF WHEEL_A_RADIUS Pose {
          translation 0 0.1569 0
          children [
            HingeJoint {
              jointParameters HingeJointParameters {
                position 17.0142601498946
                axis 0 1 0
              }
              device [
                RotationalMotor {
                  name "motor1"
                  maxVelocity 20
                }
                PositionSensor {
                  name "encoder1"
                }
              ]
              endPoint Solid {
                rotation -0.09200061438082241 -0.7041066129638633 0.704109199296606 3.325076696996528
                children [
                  DEF ROUE_VISUEL Shape {
                    appearance Asphalt {
                    }
                    geometry Cylinder {
                      height 0.02
                      radius 0.03
                    }
                  }
                ]
                name "wheel_solid_1"
                boundingObject USE ROUE_VISUEL
                physics Physics {
                }
              }
            }
          ]
        }
      ]
    }
    DEF WHEEL_B_WRAPPER Pose {
      rotation 0 0 1 1.0472
      children [
        DEF WHEEL_B_RADIUS Pose {
          translation 0 0.1569 0
          children [
            HingeJoint {
              jointParameters HingeJointParameters {
                position 590.3261425828271
                axis 0 1 0
              }
              device [
                RotationalMotor {
                  name "motor2"
                  maxVelocity 20
                }
                PositionSensor {
                  name "encoder2"
                }
              ]
              endPoint Solid {
                rotation 0.978874113061116 -0.14457751764857238 0.1445780487120701 1.592150608861664
                children [
                  USE ROUE_VISUEL
                ]
                name "wheel_solid_2"
                boundingObject USE ROUE_VISUEL
                physics Physics {
                }
              }
            }
          ]
        }
      ]
    }
    DEF WHEEL_C_WRAPPER Pose {
      rotation 0 0 1 3.14159
      children [
        DEF WHEEL_C_RADIUS Pose {
          translation 0 0.1569 0
          children [
            HingeJoint {
              jointParameters HingeJointParameters {
                position 766.9604121483075
                axis 0 1 0
              }
              device [
                RotationalMotor {
                  name "motor3"
                  maxVelocity 20
                }
                PositionSensor {
                  name "encoder3"
                }
              ]
              endPoint Solid {
                rotation 0.9590383284181149 0.2003062528565468 -0.200306988623855 1.6126120463229765
                children [
                  USE ROUE_VISUEL
                ]
                name "wheel_solid_3"
                boundingObject USE ROUE_VISUEL
                physics Physics {
                }
              }
            }
          ]
        }
      ]
    }
  ]
  name "RobotOmniTriangle"
  boundingObject Pose {
    translation 0 0 0.05
    children [
      Box {
        size 0.3 0.3 0.1
      }
    ]
  }
  physics Physics {
    density -1
    mass 5
  }
  controller "teensy_controller"
}
