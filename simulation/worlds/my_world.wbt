#VRML_SIM R2025a utf8

EXTERNPROTO "https://raw.githubusercontent.com/cyberbotics/webots/R2025a/projects/objects/backgrounds/protos/TexturedBackground.proto"
EXTERNPROTO "https://raw.githubusercontent.com/cyberbotics/webots/R2025a/projects/objects/backgrounds/protos/TexturedBackgroundLight.proto"
EXTERNPROTO "https://raw.githubusercontent.com/cyberbotics/webots/R2025a/projects/objects/floors/protos/RectangleArena.proto"
EXTERNPROTO "https://raw.githubusercontent.com/cyberbotics/webots/R2025a/projects/appearances/protos/Asphalt.proto"

WorldInfo {
}
Viewpoint {
  orientation 0.005224996920118138 0.0006187541277130743 0.999986158179459 3.3769253013795324
  position 0.7902762258390914 0.5035664590475699 0.23740970603155323
}
TexturedBackground {
}
TexturedBackgroundLight {
}
RectangleArena {
  floorSize 3 2
  wallHeight 0.07
}
Robot {
  translation -0.537122949781434 -0.6748662822096296 0.0272873173516531
  rotation -1.2359185296109382e-05 1.2720249317123675e-05 -0.9999999998427228 -2.2782058691065394
  children [
    DEF CORPS_DEPLACE Pose {
      translation 0 0 0.22
      children [
        DEF CORPS_SHAPE Shape {
          appearance PBRAppearance {
            baseColor 0 0 0
            roughness 0.5
            metalness 0
          }
          geometry Box {
            size 0.3 0.4 0.375
          }
        }
      ]
    }
    DEF WHEEL_A_WRAPPER Pose {
      rotation 0 0 1 -1.0472
      children [
        DEF WHEEL_A_RADIUS Pose {
          translation 0 0.2 0
          children [
            HingeJoint {
              jointParameters HingeJointParameters {
                position -10.505404003513412
                axis 0 1 0
              }
              device [
                RotationalMotor {
                  name "motor1"
                  maxVelocity 20
                }
                PositionSensor {
                  name "encoder1"
                }
              ]
              endPoint Solid {
                rotation 0.3904874565941913 0.6509671393893384 -0.6509695305295488 2.397036929331441
                children [
                  DEF ROUE_VISUEL Shape {
                    appearance Asphalt {
                    }
                    geometry Cylinder {
                      height 0.02
                      radius 0.03
                    }
                  }
                ]
                name "wheel_solid_1"
                boundingObject USE ROUE_VISUEL
                physics Physics {
                }
                linearVelocity 0.11100884330996881 -0.08558310471907421 2.0713481922735374e-05
                angularVelocity 2.830158861293779 -0.9951570610276962 -0.09098619832790199
              }
            }
          ]
        }
      ]
    }
    DEF WHEEL_B_WRAPPER Pose {
      rotation 0 0 1 1.0472
      children [
        DEF WHEEL_B_RADIUS Pose {
          translation 0 0.2 0
          children [
            HingeJoint {
              jointParameters HingeJointParameters {
                position 117.22229302956572
                axis 0 1 0
              }
              device [
                RotationalMotor {
                  name "motor2"
                  maxVelocity 20
                }
                PositionSensor {
                  name "encoder2"
                }
              ]
              endPoint Solid {
                rotation -0.354149103551127 0.6612772489463269 -0.6612796779577539 3.8223230076515216
                children [
                  USE ROUE_VISUEL
                ]
                name "wheel_solid_2"
                boundingObject USE ROUE_VISUEL
                physics Physics {
                }
                linearVelocity 0.08758710542250407 -0.10566252007740945 -1.4245087986380285e-05
                angularVelocity -0.5530561243158727 2.948657161242062 -0.09081858861983542
              }
            }
          ]
        }
      ]
    }
    DEF WHEEL_C_WRAPPER Pose {
      rotation 0 0 1 3.14159
      children [
        DEF WHEEL_C_RADIUS Pose {
          translation 0 0.2 0
          children [
            HingeJoint {
              jointParameters HingeJointParameters {
                position 118.29704906148814
                axis 0 1 0
              }
              device [
                RotationalMotor {
                  name "motor3"
                  maxVelocity 20
                }
                PositionSensor {
                  name "encoder3"
                }
              ]
              endPoint Solid {
                rotation -0.7615406695681078 0.45828717287450743 -0.45828885626038224 4.443281743698427
                children [
                  USE ROUE_VISUEL
                ]
                name "wheel_solid_3"
                boundingObject USE ROUE_VISUEL
                physics Physics {
                }
                linearVelocity 0.11668398222573229 -0.11591436246901529 -6.501944276474405e-06
                angularVelocity 4.5521014055607365 3.908900399740344 -0.09361064177710658
              }
            }
          ]
        }
      ]
    }
  ]
  name "cdr"
  boundingObject USE CORPS_DEPLACE
  physics Physics {
    density -1
    mass 10
  }
  controller "test_holonome"
  linearVelocity 0.10511290347260896 -0.1023997314981849 -3.4046587370538604e-08
  angularVelocity 5.749652622628165e-05 9.156698196245328e-05 -0.08906358350342403
}
DEF ROBOT_2 Robot {
  translation -0.000882932337911594 4.064511890883394e-05 0.028509951576114363
  rotation 2.4635005568637615e-06 -6.401137007350481e-06 0.9999999999764783 0.7081805567939816
  children [
    DEF CORPS_PRINCIPAL Pose {
      translation 0 0 0.05
      children [
        Transform {
          scale 0.001 0.001 0.001
          children [
            Shape {
              appearance PBRAppearance {
                baseColor 0 0.2 0.8
                roughness 0.5
                metalness 0
              }
              geometry Mesh {
                url [
                  "../protos/meshes/base_link.stl"
                ]
              }
              castShadows FALSE
            }
          ]
        }
      ]
    }
    DEF ROUE_1_WRAPPER Pose {
      rotation 0 0 1 -1.0472
      children [
        Pose {
          translation 0 0.2 0
          children [
            HingeJoint {
              jointParameters HingeJointParameters {
                position -2.6549934978458087
                axis 0 1 0
              }
              device [
                RotationalMotor {
                  name "motor1"
                  maxVelocity 20
                }
                PositionSensor {
                  name "encoder1"
                }
              ]
              endPoint Solid {
                rotation 0 -1 0 2.6549934978458087
                children [
                  DEF VISUAL_WHEEL_1 Transform {
                    rotation 0 0 1 -1.57
                    scale 0.001 0.001 0.001
                    children [
                      Shape {
                        appearance PBRAppearance {
                          baseColor 0.1 0.1 0.1
                          roughness 0.8
                        }
                        geometry Mesh {
                          url [
                            "../protos/meshes/roue.stl"
                          ]
                        }
                      }
                    ]
                  }
                  DEF ROUE_COLLISION Pose {
                    rotation 1 0 0 1.5708
                    children [
                      Shape {
                        appearance PBRAppearance {
                          baseColor 0.1 0.1 0.1
                          transparency 1
                          roughness 0.8
                          metalness 0
                        }
                        geometry Cylinder {
                          height 0.02
                          radius 0.03
                        }
                      }
                    ]
                  }
                ]
                name "wheel_solid_1"
                boundingObject USE ROUE_COLLISION
                physics Physics {
                  mass 0.2
                }
              }
            }
          ]
        }
      ]
    }
    DEF ROUE_2_WRAPPER Pose {
      rotation 0 0 1 1.0472
      children [
        Pose {
          translation 0 0.2 0
          children [
            HingeJoint {
              jointParameters HingeJointParameters {
                position 61.20924016754824
                axis 0 1 0
              }
              device [
                RotationalMotor {
                  name "motor2"
                  maxVelocity 20
                }
                PositionSensor {
                  name "encoder2"
                }
              ]
              endPoint Solid {
                rotation 0 -1 0 1.622612904247627
                children [
                  DEF VISUAL_WHEEL_2 Transform {
                    rotation 0 0 1 -1.57
                    scale 0.001 0.001 0.001
                    children [
                      Shape {
                        appearance PBRAppearance {
                          baseColor 0.1 0.1 0.1
                          roughness 0.8
                        }
                        geometry Mesh {
                          url [
                            "../protos/meshes/roue.stl"
                          ]
                        }
                      }
                    ]
                  }
                  USE ROUE_COLLISION
                ]
                name "wheel_solid_2"
                boundingObject USE ROUE_COLLISION
                physics Physics {
                  mass 0.2
                }
              }
            }
          ]
        }
      ]
    }
    DEF ROUE_3_WRAPPER Pose {
      rotation 0 0 1 3.14159
      children [
        Pose {
          translation 0 0.2 0
          children [
            HingeJoint {
              jointParameters HingeJointParameters {
                position 36.747884323039926
                axis 0 1 0
              }
              device [
                RotationalMotor {
                  name "motor3"
                  maxVelocity 20
                }
                PositionSensor {
                  name "encoder3"
                }
              ]
              endPoint Solid {
                rotation 0 -1 0 0.9512275200375923
                children [
                  DEF VISUAL_WHEEL_3 Transform {
                    rotation 0 0 1 -1.57
                    scale 0.001 0.001 0.001
                    children [
                      Shape {
                        appearance PBRAppearance {
                          baseColor 0.1 0.1 0.1
                          roughness 0.8
                        }
                        geometry Mesh {
                          url [
                            "../protos/meshes/roue.stl"
                          ]
                        }
                      }
                    ]
                  }
                  USE ROUE_COLLISION
                ]
                name "wheel_solid_3"
                boundingObject USE ROUE_COLLISION
                physics Physics {
                  mass 0.2
                }
              }
            }
          ]
        }
      ]
    }
  ]
  name "RobotOmniTriangle"
  boundingObject Pose {
    translation 0 0 0.05
    children [
      Box {
        size 0.3 0.3 0.1
      }
    ]
  }
  physics Physics {
    density -1
    mass 5
  }
  controller "test_holonome"
}
